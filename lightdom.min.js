(function(t,e){(function(){function n(t,n){n=n||{bubbles:false,cancelable:false,detail:undefined};var i=e.createEvent("CustomEvent");i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail);return i}n.prototype=t.Event.prototype;t.CustomEvent=n})();var n=typeof t.chrome=="undefined";function i(t,e){if(n)console.log("%c"+t,e||"");else console.log(t)}var o=t["LD"]=t["lightDom"]=function(t){return new r(t)};o.extend=function(t){for(var e in t){r.prototype[e]=t[e]}};o.ajax=function(t){var e=t.crossDomain?r():new XMLHttpRequest;e.open(t.type,t.url,t.async||true);var n=false;try{e.responseType=t.dataType||""}catch(o){i("Could not set responseType","color:red");n=(t.dataType||"")=="json"}e.onreadystatechange=function(){if(e){if(e.readyState==4&&e.status==200){t.success(n||t.dataType=="json"&&typeof e.response!="object"?JSON.parse(e.response):e.response)}else if(e.status>=400&&e.readyState==4){t.error(e,e.status,e.statusText)}}};e.timeout=t.timeout||null;e.onprogress=t.progress||null;e.onerror=e.ontimeout=t.error||null;e.send();function r(){var t=new XMLHttpRequest;if("withCredentials"in t){}else if(typeof XDomainRequest!="undefined"){t=new XDomainRequest}else{t=null}return t}};o.isTouchDevice="ontouchstart"in e.documentElement;function r(t){this.init(t)}function s(t){if(t instanceof r)return t.dom;if(typeof t=="string"){var n=e.createElement("div");n.className="mziDiv";n.innerHTML=t;var i=n.querySelectorAll(".mziDiv > *");if(i.length==0)return e.querySelectorAll(t);else return i}else if(t.length)return t;else return[t]}r.prototype.init=function(t){if(t)this.dom=s(t);else this.dom=s("body")};r.prototype.each=function(t){for(var e=0;e<this.dom.length;e++){t.apply(this.dom[e])}};r.prototype.find=function(t){var e=[];this.each(function n(){var n=this.querySelectorAll(t);for(var i=0;i<n.length;i++)e.push(n[i])});return o(e)};r.prototype.parent=function(){return o(this.dom[0].parentNode)};r.prototype.addClass=function(t){this.each(function e(){this.className=(this.className+" "+t).replace(/^\s\s*/,"").replace(/\s\s*$/,"")})};r.prototype.removeClass=function(t){this.each(function e(){var e=" "+this.className+" ";if(e.indexOf(t+" ")!=-1)this.className=e.replace(t+" ","").replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(e.indexOf(" "+t)!=-1)this.className=e.replace(" "+t,"").replace(/^\s\s*/,"").replace(/\s\s*$/,"")})};r.prototype.hasClass=function(t){return(" "+this.dom[0].className+" ").replace(/[\t\r\n\f]/g," ").indexOf(" "+t+" ")>=0};r.prototype.attr=function(t,e){if(e)this.each(function(){this.setAttribute(t,e)});else return this.dom[0].getAttribute(t)};r.prototype.removeAttr=function(t){this.each(function e(){this.removeAttribute(t)})};r.prototype.css=function(t,e){if(typeof t=="string"&&e)this.each(function n(){this.style[t]=e.toString()});else if(typeof t=="object")this.each(function i(){for(var e in t)this.style[e]=t[e].toString()});else if(typeof t=="string"&&typeof e=="undefined"){return getComputedStyle(this.dom[0]).getPropertyValue(t)}};r.prototype.bind=function(t,e){var n=t.split(" ");this.each(function i(){for(var t=0;t<n.length;t++)this.addEventListener(n[t],e)})};r.prototype.unbind=function(t,e){var n=t.split(" ");this.each(function i(){for(var t=0;t<n.length;t++)this.removeEventListener(n[t],e)})};r.prototype.append=function(t){for(var e=0;e<arguments.length;e++){var n=s(arguments[e]);for(var i=0;i<n.length;i++)this.dom[0].appendChild(n[i])}};r.prototype.prepend=function(t){for(var e=0;e<arguments.length;e++){var n=s(arguments[e]);for(var i=0;i<n.length;i++)this.dom[0].insertBefore(n[i],null)}};r.prototype.html=function(t){this.dom[0].innerHTML="";var e=s(t);for(var n=0;n<e.length;n++)this.dom[0].appendChild(e[n])};r.prototype.text=function(t){this.each(function e(){this.innerHTML=t})};r.prototype.width=function(t){if(t)this.each(function r(){this.style.width=parseFloat(t).toString().length<t.toString().length?t:t+"px"});else{var n=this.dom[0].clientWidth;function i(t,e){var n=o(t.parentNode).width();return n!=0?parseFloat(t.style.width)/100*n:0}if(this.dom[0].clientWidth==0)if(e.defaultView){if(this.dom[0].style.width.indexOf("%")!=-1)n=i(this.dom[0],e.defaultView.getComputedStyle(this.dom[0],"").getPropertyValue("width"));else n=parseInt(e.defaultView.getComputedStyle(this.dom[0],"").getPropertyValue("width"))}else if(this.dom[0].currentStyle){if(this.dom[0].currentStyle["width"].indexOf("%")!=-1)n=i(this.dom[0],this.dom[0].currentStyle["width"]);else n=parseInt(this.dom[0].currentStyle["width"])}return n}};r.prototype.outerWidth=function(){return this.dom[0].offsetWidth};r.prototype.height=function(t){if(t)this.each(function r(){this.style.height=parseFloat(t).toString().length<t.toString().length?t:t+"px"});else{var n=this.dom[0].clientHeight;function i(t,e){var n=o(t.parentNode).height();if(n!=0){return parseFloat(t.style.height)/100*n}return 0}if(this.dom[0].clientHeight==0)if(e.defaultView){if(this.dom[0].style.height.indexOf("%")!=-1)n=i(this.dom[0],e.defaultView.getComputedStyle(this.dom[0],"").getPropertyValue("height"));else n=parseInt(e.defaultView.getComputedStyle(this.dom[0],"").getPropertyValue("height"))}else if(this.dom[0].currentStyle){if(this.dom[0].currentStyle["height"].indexOf("%")!=-1)n=i(this.dom[0],this.dom[0].currentStyle["height"]);else n=parseInt(this.dom[0].currentStyle["height"])}return n}};r.prototype.outerHeight=function(){return this.dom[0].offsetHeight};r.prototype.position=function(){var t=0,e=0,n=this.dom[0];while(n&&!isNaN(n.offsetLeft)&&!isNaN(n.offsetTop)){e+=n.offsetLeft-n.scrollLeft;t+=n.offsetTop-n.scrollTop;n=n.offsetParent}return{left:e,top:t}}})(window,document);