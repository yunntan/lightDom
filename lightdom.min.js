(function(t,e){(function(){function n(t,n){n=n||{bubbles:false,cancelable:false,detail:undefined};var o=e.createEvent("CustomEvent");o.initCustomEvent(t,n.bubbles,n.cancelable,n.detail);return o}n.prototype=t.Event.prototype;t.CustomEvent=n})();var n=typeof t.chrome=="undefined"?false:true;function o(t,e){if(n)console.log("%c"+t,e||"");else console.log(t)}var i=function(){};t["LD"]=t["lightDom"]=function(t){return new r(t)};lightDom.ajax=function(t){var e=t.crossDomain?r():new XMLHttpRequest;e.open(t.type,t.url,t.async||true);var n=false;try{e.responseType=t.dataType||""}catch(i){o("Could not set responseType","color:red");n=(t.dataType||"")=="json"}e.onreadystatechange=function(){if(e){if(e.readyState==4&&e.status==200){t.success(n||t.dataType=="json"&&typeof e.response!="object"?JSON.parse(e.response):e.response)}else if(e.status>=400&&e.readyState==4){t.error(e,e.status,e.statusText)}}};e.timeout=t.timeout||null;e.onprogress=t.progress||null;e.onerror=e.ontimeout=t.error||null;e.send();function r(){var t=new XMLHttpRequest;if("withCredentials"in t){}else if(typeof XDomainRequest!="undefined"){t=new XDomainRequest}else{t=null}return t}};lightDom.isTouchDevice="ontouchstart"in e.documentElement;function r(t){this.init(t)}function s(t){if(t instanceof r){return t.dom}if(typeof t=="string"){var n=e.createElement("div");n.className="mziDiv";n.innerHTML=t;var o=n.querySelectorAll(".mziDiv > *");if(o.length==0)return e.querySelectorAll(t);else return o}else return[t]}r.prototype.init=function(t){if(t)this.dom=s(t);else this.dom=s("body")};r.prototype.each=function(t){for(var e=0;e<this.dom.length;e++){t.apply(this.dom[e])}};r.prototype.find=function(t){return lightDom(this.dom[0].querySelector(t))};r.prototype.parent=function(){return lightDom(this.dom[0].parentNode)};r.prototype.addClass=function(t){this.each(function e(){this.className+=" "+t})};r.prototype.removeClass=function(t){this.each(function e(){this.className=this.className.replace(t,"")})};r.prototype.hasClass=function(t){return this.dom[0].className.indexOf(t)!=-1};r.prototype.attr=function(t,e){if(e)this.each(function(){this.setAttribute(t,e)});else return this.dom[0].getAttribute(t)};r.prototype.removeAttr=function(t){this.each(function e(){this.removeAttribute(t)})};r.prototype.css=function(t,e){if(typeof e=="string")this.each(function n(){this.style[t]=e});else if(typeof t=="object")this.each(function o(){for(var e in t)this.style[e]=t[e]})};r.prototype.bind=function(t,e){var n=t.split(" ");this.each(function o(){for(var t=0;t<n.length;t++)this.addEventListener(n[t],e)})};r.prototype.unbind=function(t,e){var n=t.split(" ");this.each(function o(){for(var t=0;t<n.length;t++)this.removeEventListener(n[t],e)})};r.prototype.append=function(t){for(var e=0;e<arguments.length;e++){var n=s(arguments[e]);for(var o=0;o<n.length;o++)this.dom[0].appendChild(n[o])}};r.prototype.prepend=function(t){for(var e=0;e<arguments.length;e++){var n=s(arguments[e]);for(var o=0;o<n.length;o++)this.dom[0].insertBefore(n[o],null)}};r.prototype.html=function(t){this.dom[0].innerHTML="";var e=s(t);for(var n=0;n<e.length;n++)this.dom[0].appendChild(e[n])};r.prototype.text=function(t){this.each(function e(){this.innerHTML=t})};r.prototype.width=function(t){if(t)this.each(function i(){this.style.width=parseFloat(t).toString().length<t.toString().length?t:t+"px"});else{var n=this.dom[0].clientWidth;function o(t,e){var n=lightDom(t.parentNode).width();if(n!=0){return parseFloat(t.style.width)/100*n}return 0}if(this.dom[0].clientWidth==0)if(e.defaultView){if(this.dom[0].style.width.indexOf("%")!=-1)n=o(this.dom[0],e.defaultView.getComputedStyle(this.dom[0],"").getPropertyValue("width"));else n=parseInt(e.defaultView.getComputedStyle(this.dom[0],"").getPropertyValue("width"))}else if(this.dom[0].currentStyle){if(this.dom[0].currentStyle["width"].indexOf("%")!=-1)n=o(this.dom[0],this.dom[0].currentStyle["width"]);else n=parseInt(this.dom[0].currentStyle["width"])}return n}};r.prototype.outerWidth=function(){return this.dom[0].offsetWidth};r.prototype.height=function(t){if(t)this.each(function i(){this.style.height=parseFloat(t).toString().length<t.toString().length?t:t+"px"});else{var n=this.dom[0].clientHeight;function o(t,e){var n=lightDom(t.parentNode).height();if(n!=0){return parseFloat(t.style.height)/100*n}return 0}if(this.dom[0].clientHeight==0)if(e.defaultView){if(this.dom[0].style.height.indexOf("%")!=-1)n=o(this.dom[0],e.defaultView.getComputedStyle(this.dom[0],"").getPropertyValue("height"));else n=parseInt(e.defaultView.getComputedStyle(this.dom[0],"").getPropertyValue("height"))}else if(this.dom[0].currentStyle){if(this.dom[0].currentStyle["height"].indexOf("%")!=-1)n=o(this.dom[0],this.dom[0].currentStyle["height"]);else n=parseInt(this.dom[0].currentStyle["height"])}return n}};r.prototype.outerHeight=function(){return this.dom[0].offsetHeight};r.prototype.position=function(){var t=parseFloat(this.dom[0].style.left)||0;var e=parseFloat(this.dom[0].style.top)||0;return{left:t,top:e}};r.prototype.hover=function(t,e){this.each(function n(){this.addEventListener("mouseover",t||i);this.addEventListener("mouseout",e||i)})};r.draggableElements=[];r.prototype.draggable=function(t){this.each(function n(){var n=this.parentNode;var s=this;s.onStart=t.start||i;s.onDrag=t.drag||i;s.onStop=t.stop||i;this.style.position="absolute";var a=false;var l={};s.containment=t.containment||[Number.NEGATIVE_INFINITY,0,Number.POSITIVE_INFINITY,0];function h(t){var n=0,o=0;if(typeof t.pageX!="undefined"||typeof t.pageY!="undefined"){n=t.pageX;o=t.pageY}else{n=t.clientX+e.body.scrollLeft+e.documentElement.scrollLeft;o=t.clientY+e.body.scrollTop+e.documentElement.scrollTop}var i=getPosition(s);n-=i.x;n=n<0?0:n;o-=i.y;o=o<0?0:o;return{x:n,y:o}}function u(t){t.srcElement=t.srcElement||t.target;if(t.srcElement==s){l=h(t);a=true;s.onStart(t,d())}}function c(t){if(a==true){a=false;s.onStop(t,d())}}function f(t){if(a==true){var e=getPosition(n);var o=lightDom.isTouchDevice?t.touches[0].clientX:t.x||t.clientX;var i=o-e.x-l.x;if(i<=s.containment[0])i=s.containment[0];if(i>=s.containment[2]-lightDom(s).width())i=s.containment[2]-lightDom(s).width();s.style.left=i+"px";s.onDrag(t,d())}}function d(){return{position:{left:parseFloat(s.style.left)||0,top:parseFloat(s.style.top)||0}}}if(r.draggableElements.indexOf(this)!=-1){o("Just changing values of draggable, not binding ","color: yellow")}else{r.draggableElements.push(this);e.addEventListener(lightDom.isTouchDevice?"touchstart":"mousedown",u);e.addEventListener(lightDom.isTouchDevice?"touchend":"mouseup",c);e.addEventListener(lightDom.isTouchDevice?"touchmove":"mousemove",f)}})}})(window,document);